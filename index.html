<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AreaKit</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=LINE+Seed+JP:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://unpkg.com/@primer/css@21.5.1/dist/primer.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <main class="layout" id="layout">
      <aside class="panel" id="sidebar">
        <h1>AreaKit</h1>
        <p class="lead">2026 KK. GION DELIVERY SERVICE</p>

        <section class="card">
          <h2>Map Tiles</h2>
          <fieldset id="basemap-options" class="radio-group">
            <label><input type="radio" name="basemap" value="gsi_std" /> 地理院 標準（日本語）</label>
            <label><input type="radio" name="basemap" value="gsi_pale" /> 地理院 淡色</label>
            <label><input type="radio" name="basemap" value="gsi_seamless" /> 地理院 シームレス写真</label>
            <label><input type="radio" name="basemap" value="osm" /> オープンストリートマップ</label>
            <label><input type="radio" name="basemap" value="carto" /> CARTO ボイジャー</label>
            <label><input type="radio" name="basemap" value="carto_light" /> CARTO ポジトロン</label>
            <label><input type="radio" name="basemap" value="esri_street" checked /> Esri ワールドストリート</label>
          </fieldset>
        </section>

        <section class="card">
          <h2>Zone Select</h2>
          <p id="selected-count">Selected: 0</p>
          <p class="section-tag">Allocate</p>
          <div class="depot-actions">
            <button class="depot-btn depot-sgm" type="button" data-depot="SGM">SGM</button>
            <button class="depot-btn depot-fuj" type="button" data-depot="FUJ">FUJ</button>
            <button class="depot-btn depot-yok" type="button" data-depot="YOK">YOK</button>
          </div>
          <div class="row history-row">
            <button id="undo-action" type="button" class="ghost">← Undo</button>
            <button id="redo-action" type="button" class="ghost">Redo →</button>
          </div>
          <button id="reset-all" type="button" class="ghost danger">All Reset</button>
        </section>

        <section class="card">
          <h2>
            <svg class="octicon ui-icon" viewBox="0 0 16 16" width="14" height="14" aria-hidden="true">
              <path d="M7.47 10.78a.75.75 0 0 0 1.06 0l3-3a.75.75 0 1 0-1.06-1.06L8.75 8.44V1.75a.75.75 0 0 0-1.5 0v6.69L5.53 6.72a.75.75 0 0 0-1.06 1.06l3 3Z"></path>
              <path d="M2.5 10.75a.75.75 0 0 0-1.5 0v2A2.25 2.25 0 0 0 3.25 15h9.5A2.25 2.25 0 0 0 15 12.75v-2a.75.75 0 0 0-1.5 0v2a.75.75 0 0 1-.75.75h-9.5a.75.75 0 0 1-.75-.75v-2Z"></path>
            </svg>
            Export
          </h2>
          <button id="export-csv" type="button">Download CSV</button>
        </section>

        <section class="card">
          <h2>Stats</h2>
          <table class="stats-table">
            <tbody id="stats"></tbody>
          </table>
        </section>

        <section class="card">
          <h2>Selected Zones</h2>
          <div id="selected-zips" class="chips"></div>
        </section>
      </aside>

      <section class="map-wrap">
        <button id="panel-toggle" type="button" class="panel-toggle" aria-expanded="true">
          Hide Sidebar
        </button>
        <div id="map"></div>
        <div class="legend">
          <span><i class="dot sgm"></i>SGM</span>
          <span><i class="dot fuj"></i>FUJ</span>
          <span><i class="dot yok"></i>YOK</span>
          <span><i class="dot none"></i>Unassigned</span>
        </div>
      </section>
    </main>

    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""
    ></script>
    <script src="./app.js"></script>
  </body>
</html>
